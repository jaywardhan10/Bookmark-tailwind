<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Animation</title>
    <style>
 body {
            margin: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            background-color: #f0f0f0;
        }
        canvas {
            border: 1px solid black;
        }
        .car {
            position: absolute;
            width: 20px;
            height: 20px;
            background-color: blue;
            border-radius: 50%;
        }

    </style>
    
</head>
<body>
    <canvas id="myCanvas"></canvas>
    <div class="car" id="car"></div>
    <script src="script.js"></script>
    <script>
        const canvas = document.getElementById('myCanvas');
const ctx = canvas.getContext('2d');
const car = document.getElementById('car');

// Resize canvas to fill the viewport
function resizeCanvas() {
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;
}
resizeCanvas();
window.addEventListener('resize', resizeCanvas);

// Fixed positions for the 7 services
const points = [
    { x: 100, y: 100, label: 'Service 1' },
    { x: 300, y: 80, label: 'Service 2' },
    { x: 500, y: 200, label: 'Service 3' },
    { x: 700, y: 150, label: 'Service 4' },
    { x: 900, y: 300, label: 'Service 5' },
    { x: 1100, y: 250, label: 'Service 6' },
    { x: 1300, y: 400, label: 'Service 7' }
];

// Draw a point
function drawPoint(x, y, color = 'red') {
    ctx.beginPath();
    ctx.arc(x, y, 8, 0, 2 * Math.PI);
    ctx.fillStyle = color;
    ctx.fill();
}

// Draw a line between two points
function drawLine(from, to, progress, color = 'blue') {
    ctx.beginPath();
    ctx.moveTo(from.x, from.y);
    ctx.lineTo(from.x + (to.x - from.x) * progress, from.y + (to.y - from.y) * progress);
    ctx.strokeStyle = color;
    ctx.lineWidth = 2;
    ctx.stroke();
}

// Draw a label with a box
function drawLabel(x, y, text) {
    ctx.font = '14px Arial';
    ctx.fillStyle = 'black';
    const textWidth = ctx.measureText(text).width;
    const padding = 10;
    const boxWidth = textWidth + padding * 2;
    const boxHeight = 30;
    ctx.fillStyle = 'white';
    ctx.fillRect(x - boxWidth / 2, y - boxHeight / 2, boxWidth, boxHeight);
    ctx.strokeStyle = 'black';
    ctx.strokeRect(x - boxWidth / 2, y - boxHeight / 2, boxWidth, boxHeight);
    ctx.fillStyle = 'black';
    ctx.fillText(text, x - textWidth / 2, y + 5);
}

// Function to animate the connection of points and car movement
function animateLines() {
    let index = 0;
    let progress = 0;
    const speed = 0.02; // Speed of the animation
    const delay = 1000; // Delay between drawing each line

    function animate() {
        ctx.clearRect(0, 0, canvas.width, canvas.height);

        // Draw all points with highlighting for the current and previous ones
        points.forEach((point, i) => {
            if (i <= index) {
                drawPoint(point.x, point.y, 'green'); // Highlighted points
                drawLabel(point.x, point.y - 20, point.label); // Draw labels above the point
            } else {
                drawPoint(point.x, point.y, 'red'); // Normal points
            }
        });

        // Draw the current line being animated and move the car
        if (index < points.length - 1) {
            const from = points[index];
            const to = points[index + 1];
            const currentX = from.x + (to.x - from.x) * progress;
            const currentY = from.y + (to.y - from.y) * progress;

            // Move the car
            car.style.left = `${currentX - car.offsetWidth / 2}px`;
            car.style.top = `${currentY - car.offsetHeight / 2}px`;

            drawLine(from, to, progress, 'blue');

            progress += speed;

            if (progress >= 1) {
                progress = 0;
                index++;
                setTimeout(animate, delay); // Delay before drawing the next line
            } else {
                requestAnimationFrame(animate);
            }
        }
    }

    animate();
}

// Start animation
animateLines();

    </script>
</body>
</html>